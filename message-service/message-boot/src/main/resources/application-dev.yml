server:
  port: 8084
spring:
  application:
    name: message-service

  config:
    import:
      - nacos:message-service-dev.yml?group=DEFAULT_GROUP&refresh=true

  cloud:
    nacos:
      discovery:
        server-addr: 192.168.1.185:8848
        namespace: 1e90921e-70cf-4745-87ed-dd165319ff3a
        group: DEFAULT_GROUP
        username: Nan
        password: Nan12091209
        access-key: nan_nacos
        secret-key: nanproduced
        fail-fast: false
      config:
        server-addr: 192.168.1.185:8848
        namespace: 1e90921e-70cf-4745-87ed-dd165319ff3a
        group: DEFAULT_GROUP
        username: Nan
        password: Nan12091209
        access-key: nan_nacos
        secret-key: nanproduced
        timeout: 5000
        config-long-poll-timeout: 1000
        config-retry-time: 100000
        max-retry: 3
        refresh-enabled: true
        file-extension: yml

# 用户在线状态管理配置
message:
  online-status:
    # 默认过期时间（秒）
    default-expire-seconds: 1800  # 30分钟
    # 心跳间隔（秒）
    heartbeat-interval-seconds: 30
    # 每个用户最大设备数
    max-devices-per-user: 10
    # 定时任务配置
    scheduler:
      enabled: true
    # 清理配置
    cleanup:
      timeout-minutes: 5  # 超时5分钟清理
    # 集群配置
    cluster:
      enabled: false  # 开发环境关闭集群同步